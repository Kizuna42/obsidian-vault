# 開発ルールブック (1)

## 概要

本ルールブックでは、FYBEプロジェクト（[https://fybe.jp](https://fybe.jp/)）におけるIssue運用、ブランチ運用、Pull Request作法、テストデータ管理、コードフォーマット手順、Tailwindベースでのスタイリングルールなど、開発全般に関する規約・ガイドラインをまとめます。

## 目次

1. Issue & PR テンプレート
2. 作業手順 (Issue管理・Assignee・Nested Issue)
3. ブランチ運用ルール
4. PR前最後のPush時チェックリスト
5. テストデータ管理方針
6. CSS/スタイリングルール
7. アイコン使用ガイドライン

---

## Issue & PR テンプレート

### Feature Request Issue Template

**ファイル例**: `.github/ISSUE_TEMPLATE/feature_request.md`

```yaml
---
name: Feature request
about: Suggest an idea for this project
title: ''
labels: ''
assignees: ''
---

## タスク
以下の3段階で進めてください。各タスクごとに別途ネストされたIssueを作成してください。
以下のリスト項目にカーソルを当てるとIssue作成ボタンが表示されます。

- [ ] **共通コンポーネントの洗い出し**
  - Figmaの指定フレームを見比べ、共通化できるコンポーネントをリストアップ
  - コメント機能で「共通コンポーネント: Header」といった形で明記
  - 命名規則: 単語の頭文字を大文字 (例: Header, Footer)

- [ ] **共通コンポーネントのコーディング**
  - 洗い出したコンポーネントを作成し、`commons`ディレクトリ配下に配置

- [ ] **ページ全体のコーディング**
  - 必要に応じて新規コンポーネント作成 (`components`ディレクトリに配置)

```

### Pull Request Template

**ファイル例**: `.github/PULL_REQUEST_TEMPLATE.md`

```markdown
## やったこと
- Closes #
- [ ] ここで行った具体的な変更内容やIssue対応を記述

## 確認の仕方
1. 手順を簡潔に記載

## スクリーンショット（フロントエンドの場合）
<!-- 必要に応じてスクリーンショットを貼り付け -->

## 備考
<!-- 補足情報や注意点などがあれば記載 -->

```

---

## 作業手順 (Issue管理・Assignee・Nested Issue)

- 作られているIssueに対して、必ず自分をアサインし、`Convert to issue` 機能を用いてネストされたIssueを作成。
- 各フェーズ（共通コンポーネント洗い出し → コーディング → ページ全体コーディング）で、新しいIssueを紐付け、作業対象を明確化する。
- 対応中のIssue・PRが過剰な変更を含んでいないか`Files changed`で都度確認。

---

## ブランチ運用ルール

**基本方針**：

- `main`ブランチを中心に開発を行い、`develop`ブランチは使用しない。
- 新規機能や修正は`main`から`feature`ブランチを作成。

**ブランチ命名規則**：

```
{ニックネーム}/{プロジェクト名}/{操作タイプ}-{作業タイトル}
例:
konaito/frontend/add-header-navigation
konaito/backend/fix-login-bug

```

- 操作タイプは`add` / `fix`などを用いる。
- ブランチ名から作業者・対象領域が一目で分かるようにする。

**ニックネーム定義 (5のタスク)**：

- 開発者は自分のニックネームを定義するため、`README`更新用のブランチを作成し、PRでマージする。

```bash
git switch -c {ニックネーム}/readme/fix-define-nickname

```

**FYBE開発者一覧 (例)**：

- konaito: [https://github.com/konaito](https://github.com/konaito)
- kishino: [https://github.com/Kizuna42](https://github.com/Kizuna42)

**PR運用**：

- 作業が完了したら、自分でPRを作成して自分でマージ可。
- ブランチ、PRは削除せず、履歴として残す。

---

## PR前最後のPush時チェックリスト

- **コードフォーマット**: `make format` or `make -C <makefile階層> format`を実行し、コードを共通フォーマットへ整形。
- **ビルドテスト**: `bun run build`でビルド成功確認。Lintエラーやunusedエラーはここで検出されるので解消してからpush。
- **コミットメッセージ**: 厳密なルールは不要だが、最低限変更意図がわかるように。
- **変更範囲の確認**: `Files changed` で、対応IssueやPR範囲に対して過剰な変更がないか確認。

---

## テストデータ管理方針

- `/app`と並列する`/data`ディレクトリ配下に、将来的なDBテーブル名相当のJSONファイルを配置。
- ページコンポーネントからは`import`してUIテストやレイアウト確認に使用。
- **例**:
    
    ```
    src/
      app/
        home/
          page.tsx
      data/
        home.json
        users.json
        posts.json
      types/
    	  users.ts
    
    ```
    
- `page.tsx`内で`import homeData from "@/data/home.json";`のように読み込む。

---

## CSS/スタイリングルール

- Tailwind CSSを活用し、デザイン要件に近い形でスタイリング。
- カスタムCSSは極力書かず、Tailwindクラスで対応可能な範囲は全てTailwindで行う。
- コンポーネント作成時、スタイリングをTailwindクラスベースで統一し、チーム全体で一貫性を持たせる。

---

## アイコン使用ガイドライン

- アイコンは`react-icons`または`lucide-react`を参照して使用。
- 必要に応じてアイコンコンポーネントを共通化し、`commons`ディレクトリや`components`ディレクトリ内で管理。
- アイコン選択時は、デザイン要件に合わせて統一したスタイルを保つ。

---

## まとめ

上記ルールに従うことで、

- Issue→Assignee→Nested Issueによるタスク管理
- ブランチ命名規則による透明性の高い開発フロー
- コードフォーマット・ビルドチェックによる品質向上
- Tailwind活用によるスタイル統一性
- 適切なPRテンプレート運用によるレビュー効率化

が実現できます。常に本ドキュメントを参照し、チーム全体でスムーズな開発体制を築いていきましょう。